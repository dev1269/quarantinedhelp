<div class="register">
    <!--    <div class="register-head">
        <div class="register-head_left" (click)="navigateTo('cockpit')">
            <div class="register-head_left__square"></div>
            <span class="register-head_left__brand">Quarantined <br>Helper</span>
        </div>
        <div class="register-head_right" [routerLink]="'/login'">
            <span class="register-head_right__register"> {{ 'auth.login' | translate }} </span>
        </div>
    </div> -->

    <div class="register-main">
        <mat-horizontal-stepper linear #stepper class="stepper">
            <mat-step [stepControl]="basicInfoForm" errorMessage="{{ 'form.error.generic' | translate }}">
                <form [formGroup]="basicInfoForm" class="rform">
                    <ng-template matStepLabel> {{ 'form.info1' | translate }} </ng-template>
                    <mat-form-field appearance="fill">
                        <mat-label> {{ 'form.firstname' | translate }} </mat-label>
                        <mat-icon matSuffix>person</mat-icon>
                        <input matInput placeholder="{{ 'form.firstname' | translate }}" formControlName="firstName"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label> {{ 'form.lastname' | translate }} </mat-label>
                        <mat-icon matSuffix>person</mat-icon>
                        <input matInput placeholder="{{ 'form.lastname' | translate }}" formControlName="lastName"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.email' | translate }}</mat-label>
                        <mat-icon matSuffix>email</mat-icon>
                        <input matInput placeholder="{{ 'form.email' | translate }}" formControlName="email" required>
                    </mat-form-field>
                    <app-autocomplete (locationChange)="autocompleteChanged($event)"></app-autocomplete>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.street' | translate }}</mat-label>
                        <mat-icon matSuffix>location_city</mat-icon>
                        <input matInput placeholder="{{ 'form.street' | translate }}" formControlName="street" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.housenumber' | translate }}</mat-label>
                        <mat-icon matSuffix>house</mat-icon>
                        <input matInput placeholder="{{ 'form.housenumber' | translate }}" formControlName="housenumber"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.city' | translate }}</mat-label>
                        <mat-icon matSuffix>location_on</mat-icon>
                        <input matInput placeholder="{{ 'form.city' | translate }}" formControlName="city" required>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.country' | translate }}</mat-label>
                        <mat-icon matSuffix>public</mat-icon>
                        <input matInput placeholder="{{ 'form.country' | translate }}" formControlName="country"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.postcode' | translate }}</mat-label>
                        <mat-icon matSuffix>pin_drop</mat-icon>
                        <input matInput type="number" placeholder="{{ 'form.postcode' | translate }}"
                            formControlName="postcode" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.phone' | translate }}</mat-label>
                        <mat-icon matSuffix>phone</mat-icon>
                        <input matInput placeholder="{{ 'form.phone' | translate }}" formControlName="phone" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ 'form.address2' | translate }}</mat-label>
                        <mat-icon matSuffix>map</mat-icon>
                        <input matInput placeholder="{{ 'form.address2' | translate }}" formControlName="secondAddress">
                    </mat-form-field>
                    <!-- <div>
                        <button mat-button matStepperNext>Next</button>
                    </div> -->
                </form>
            </mat-step>
            <mat-step [stepControl]="additionalForm" errorMessage="{{ 'form.error.generic' | translate }}">
                <form [formGroup]="additionalForm" class="pform">
                    <ng-template matStepLabel> {{ 'form.set-password' | translate }} </ng-template>
                    <mat-form-field appearance="outline">
                        <mat-label>{{'form.password' | translate}}</mat-label>
                        <mat-icon matSuffix>lock</mat-icon>
                        <input matInput id="password" type="password" placeholder="{{'form.password' | translate}}"
                            formControlName="password">
                        <div *ngIf="password.invalid && (password.dirty || password.touched)"
                            class="alert alert-danger">
                            <div *ngIf="password.errors.required" class="error">
                                {{'form.error.required.password' | translate}}
                            </div>
                            <div *ngIf="password.errors.minlength" class="error">
                                {{'form.error.minlength' | translate}}
                            </div>
                        </div>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>{{'form.confirm-password' | translate}}</mat-label>
                        <mat-icon matSuffix>lock</mat-icon>
                        <input matInput id="passwordconfirm" type="password"
                            placeholder="{{'form.confirm-password' | translate}}" formControlName="passwordconfirm"
                            required (input)="compare()">
                        <div *ngIf="passwordconfirm.invalid && (passwordconfirm.dirty || passwordconfirm.touched)"
                            class="alert alert-danger">
                            <div *ngIf="passwordconfirm.errors.required" class="error">
                                {{'form.error.required.password' | translate}}
                            </div>
                            <div *ngIf="passwordconfirm.errors.minlength" class="error">
                                {{'form.error.minlength' | translate}}
                            </div>
                            <div *ngIf="passwordconfirm.errors.notmatched" class="error">
                                {{'form.error.notmatched' | translate}}
                            </div>
                        </div>
                    </mat-form-field>

                    <div class="actions">
                        <button mat-button matStepperPrevious>{{ 'general.back' | translate }}</button>
                        <button mat-button matStepperNext (click)="submit()">{{ 'general.next' | translate }}</button>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>{{ 'form.done' | translate }}</ng-template>
                <div class="done">
                    <p> {{ 'auth.success-registration' | translate }} </p>
                    <button mat-button matStepperPrevious> {{ 'auth.login-to-continue' | translate }} </button>
                </div>
            </mat-step>
        </mat-horizontal-stepper>

    </div>
</div>